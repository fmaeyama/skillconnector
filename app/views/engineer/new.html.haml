%h2=@var.title
.y-3.p-3.bg-white.rounded.box-shadow
	=form_for  @engineer, url: url_for(controller: 'engineer', action: 'create', mothod: "post") do |f|
		.row
			.col-3
				=f.collection_select :engineer_status_type_id, @var.engineer_status_types, :id, :name
			.col-2
				= f.collection_select :engineer_registration_type_id, @var.engineer_registration_types, :id, :name
			.col-4
				= f.label :eng_cd, Engineer.human_attribute_name("eng_cd")
				= f.text_field :eng_cd, size: 10
	
		= f.fields_for :person_info do |person_info|
			.row
				.col-4
					= person_info.label :last_name, '姓'
					= person_info.text_field :last_name
				.col-4
					= person_info.label :first_name, '名'
					= person_info.text_field :first_name
				.col-4
					= person_info.label :middle_name, 'ミドルネーム'
					= person_info.text_field :middle_name
				.row
					.col-4
						= person_info.label :kana_last_name, 'せい（かな）'
						= person_info.text_field :kana_last_name
					.col-4
						= person_info.label :kana_first_name, 'めい（かな）'
						= person_info.text_field :kana_first_name
					.col-4
						= person_info.label :kana_middle_name, 'みどるねーむ（かな）'
						= person_info.text_field :kana_middle_name
		.row
			.col-5
				= f.label :registration_memo, Engineer.human_attribute_name("registration_memo")
				= f.text_field :registration_memo, size: 200
		.sl-border-primary
			.col-12
				%h3= EngineerHiring.model_name.human
				- if @engineer.engineer_hiring.nil?
					.sl-row-rightAlign
						.col-3
							= button_tag '派遣元追加', type: 'button', onclick: 'addHiring'
				-else
					= f.fields_for :engineer_hiring do |e_hiring|
						= render "engineer_hiring_form", hiring:e_hiring, office:@engineer.engineer_hiring.office

		.sl-border-primary
			.col-12
				%h3= Career.model_name.human
				-# = @engineer.careers.each do |engineer_career|
				= fields_for :careers do |career|
					.sl-row-border-secondary
						.col-12
							.row
								.col-4.d-flex.flex-column
									.px-1
										= career.collection_select :skill_id, @var.skills, :id, :name
									.px-1
										= career.label :career_from, Career.human_attribute_name("career_from")
									.px-1
										= career.date_field :career_from, value:Date.today
									.px-1
										= career.label :career_at,
											Career.human_attribute_name("career_at"),
											class:"sl-auto-input"
									.px-1
										= career.text_field :career_at, class:"sl-auto-input"
								.col-8.d-flex.flex-column
									.p-1
										= career.label :description, Career.human_attribute_name("description")
									.p-1
										= career.text_area :description, class:"sl-large"
			= hidden_field "career-count", @engineer.careers.count + 1

			.sl-row-rightAlign
				.col-12.align-content-end
				= button_tag t("cmn_sentence.add_form_title", model: Career.model_name.human)

		.sl-border-primary
			.col-12
				%h3=EngineerHopeBusiness.model_name.human
				= @engineer.engineer_hope_businesses.each do |hope_obj|
					= fields_for :engineer_hope_businesses, hope_obj do |hope|
						.sl-row-border-secondary
							.col-4
								= hope.collection_select :business_type_id,
								 @var.business_types, :id, :name

		.sl-row-rightAlign
			.col-3
				= f.submit
