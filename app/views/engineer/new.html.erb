<h2><%= @var.title %></h2>
<div class="y-3 p-3 bg-white rounded bo-shadow">
	<%= form_for @engineer, url: url_for(controller: 'engineer', action: 'create') do |f| %>
		<div class="row">
			<div class="col-2">
				<%= f.collection_select :engineer_status_type_id, @var.engineer_status_types, :id, :name %>
			</div>
			<div class="col-2">
				<%= f.collection_select :engineer_registration_type_id, @var.engineer_registration_types, :id, :name %>
			</div>
			<div class="col-4">
				<%= f.label :eng_cd, Engineer.human_attribute_name("eng_cd") %>
				<%= f.text_field :eng_cd, size: 10 %>
			</div>
		</div>
		<%= f.fields_for :person_info do |person_info| %>
			<div class="row">
				<div class="col-4">
					<%= person_info.label :last_name, '姓' %><%= person_info.text_field :last_name %>
				</div>
				<div class="col-4">
					<%= person_info.label :first_name, '名' %><%= person_info.text_field :first_name %>
				</div>
				<div class="col-4">
					<%= person_info.label :middle_name, 'ミドルネーム' %><%= person_info.text_field :middle_name %>
				</div>
			</div>
			<div class="row">
				<div class="col-4">
					<%= person_info.label :kana_last_name, 'せい（かな）' %><%= person_info.text_field :kana_last_name %>
				</div>
				<div class="col-4">
					<%= person_info.label :kana_first_name, 'めい（かな）' %><%= person_info.text_field :kana_first_name %>
				</div>
				<div class="col-4">
					<%= person_info.label :kana_middle_name, 'みどるねーむ（かな）' %><%= person_info.text_field :kana_middle_name %>
				</div>
			</div>
		<% end %>
		<div class="row">
			<div class="col-5">
				<%= f.label :registration_memo, Engineer.human_attribute_name("registration_memo") %>
				<%= f.text_field :registration_memo, size: 200 %>
			</div>
		</div>
		<div class="sl-border-primary">
			<div class="col-12">
				<h3><%= Engineer.human_attribute_name("engineer_hiring") %></h3>
				<% if @engineer.engineer_hiring.nil? then %>
					<div class="sl-row-rightAlign">
						<div class="col-3">
							<%= button_tag '派遣元追加', type: 'button', onclick: 'addHiring' %>
						</div>
					</div>
				<% else %>
					<%= f.hidden_field :office_id %>
					<%= f.fields_for :engineer_hiring do |hiring| %>
						<div class="row">
							<div class="col-4">
								<%= hiring.select :status,
									ApplicationRecord.cmn_statuses.to_a.map{
										|s| [t("cmn_enum.status.#{s[0]}"),s[1]]
									} %>
							</div>
							<div class="col-8">
								<span class="sl-title">
									<%= Office.model_name.human  %>
								</span>
								<span class="sl-content">
									<%= @engineer.office.cd %>
								</span>
								<span class="sl-content">
									<%= @engineer.office.long_name %>
									(<%= @engineer.office.location_short %>)
								</span>
							</div>
						</div>
						<div class="row">
							<div class="col-6">
								<%= hiring.label :hiring_position,
									EngineerHiring.human_attribute_name("hiring_position"),
									class: "sl-auto-input"  %>
								<%= hiring.text_field :hiring_position, class: "sl-auto-input" %>
							</div>
							<div class="col-6">
								<%= hiring.label :hiring_division,
									EngineerHiring.human_attribute_name("hiring_division"),
									class: "sl-auto-input"  %>
								<%= hiring.text_field :hiring_division, class: "sl-auto-input"  %>
							</div>
						</div>
						<div class="row">
							<div class="col-6">
								<div class="row">
									<div class="col-12">
										<%= hiring.label :hiring_contact,
											EngineerHiring.human_attribute_name("hiring_contact")
										%>
										<%= hiring.collection_select :hiring_contact,
											Contact.includes(:offices).where(offices:{id: @engineer.engineer_hiring.office_id}),
											:id,  :contact_name
										%>
									</div>
								</div>
								<div class="row">
									<div class="col-12">
										<%= hiring.label :hired_from,
											EngineerHiring.human_attribute_name("hired_from") %>
										<%= hiring.date_field :hired_from%>
									</div>
								</div>
								<div class="row">
									<div class="col-12">
										<%= hiring.label :hired_until,
											EngineerHiring.human_attribute_name("hired_until") %>
										<%= hiring.date_field :hired_until%>
									</div>
								</div>
							</div>
							<div class="col-6">
								<%= hiring.label :hiring_memo  %>
								<%= hiring.text_area :hiring_memo, size: "20x50" %>
							</div>
						</div>
					<% end %>
				<% end %>
			</div>
		</div>
		<div class="sl-border-primary">
			<div class="col-5">
				career
			</div>
		</div>
		<div class="sl-border-primary">
			<div class="col-5">
				engineer_hope_businesses
			</div>
		</div>
	<% end %>

</div>